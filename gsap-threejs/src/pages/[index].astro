---
import Layout from '../layouts/Layout.astro';
import medias from '../data.json';
import Header from '../components/header.astro';

// âœ… ãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®é–¢æ•°
// â†’ ãƒ“ãƒ«ãƒ‰æ™‚ã«ç”Ÿæˆã™ã‚‹ãƒšãƒ¼ã‚¸ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸€è¦§ã‚’è¿”ã™
export const getStaticPaths = async () => {
  return medias.map((media) => {
    // console.log(media)
    
    // ğŸ‘‰ ã“ã®å½¢ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™
    return {
      params: { index: media.index.toString() }, // æ–‡å­—åˆ—ã§æ¸¡ã™
      props: { media },
    };
  });
};

const { media } = Astro.props; // ğŸ‘‰ ã“ã“ã§propsãŒæ¸¡ã•ã‚Œã‚‹

// console.log(media.title)
---

<Layout 
  uid={`detail-${media.index}`} 
  template="detail" 
>

  <Header />
  <div class="details">
    <div data-text-animation class="details-data">
      <a href="/">â† Index</a>
      <p>{media.data}</p>
      <p>{media.location}</p>
      <p>{media.name}</p>
    </div>
    <div class="details-container">
      <img
        data-detail-media
        loading="eager"
        src={media.url}
        alt={`Image ${media.index}`}
      />
    </div>
  </div>
</Layout>
